<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Social Diary</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <!-- FullCalendar for calendar view -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.js"></script>
  <!-- Chart.js for mood and tag charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <!-- Firebase 10.x modular SDKs -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
    import { getAuth } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';
    import { getStorage } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js';
    import { getFunctions } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-functions.js';
    import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js';
    const firebaseConfig = {
      apiKey: "AIzaSyD0iJWnkuinWVCtsO5vjqohrCA4ws6fb8Q",
      authDomain: "social-diary-b6754.firebaseapp.com",
      projectId: "social-diary-b6754",
      storageBucket: "social-diary-b6754.appspot.com",
      messagingSenderId: "324502839373",
      appId: "1:324502839373:web:05b3f62f18dd78f14bbc04",
      measurementId: "G-6NSE70KRLB"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const storage = getStorage(app);
    const functions = getFunctions(app);
    const analytics = getAnalytics(app);
  </script>
</head>
<body>
  <!-- Error banner for displaying messages -->
  <div id="error-banner" class="error-banner" role="alert" hidden></div>

  <!-- Main app container -->
  <div class="container">
    <!-- Header with title and settings -->
    <header>
      <h1>Social Diary</h1>
      <div class="settings">
        <select id="language-select" aria-label="Select language">
          <option value="en">English</option>
          <option value="es">Espa√±ol</option>
          <option value="zh">‰∏≠Êñá</option>
          <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        </select>
        <button id="theme-toggle" aria-label="Toggle eye-protection theme">üåô</button>
        <button id="export-entries" aria-label="Export entries">Export</button>
      </div>
    </header>

    <!-- Diary form for new entries -->
    <section id="diary-form" class="diary-form">
      <h2 aria-label="Write a new diary entry">New Entry</h2>
      <div id="ai-prompt" class="ai-prompt" hidden></div>
      <textarea id="entry-text" aria-label="Diary entry text" placeholder="Write your thoughts..."></textarea>
      <select id="mood-select" aria-label="Select mood">
        <option value="happy">Happy</option>
        <option value="neutral">Neutral</option>
        <option value="sad">Sad</option>
        <option value="angry">Angry</option>
        <option value="excited">Excited</option>
      </select>
      <input type="file" id="image-upload" accept="image/*" aria-label="Upload image">
      <input type="file" id="video-upload" accept="video/*" aria-label="Upload video">
      <input type="file" id="voice-upload" accept="audio/*" aria-label="Upload voice note">
      <button id="voice-record" aria-label="Record voice note">üéôÔ∏è Record</button>
      <button id="save-entry" aria-label="Save diary entry">Save</button>
    </section>

    <!-- View entries with calendar/list toggle -->
    <section id="view-entries" class="view-entries">
      <h2 aria-label="Your diary entries">Your Entries</h2>
      <button id="toggle-view" aria-label="Toggle calendar/list view">Switch to Calendar</button>
      <div id="calendar" class="calendar-view" hidden></div>
      <div id="entry-list" class="entry-list"></div>
    </section>

    <!-- Stats section for mood and tag trends -->
    <section id="stats" class="stats">
      <h2 aria-label="Mood and tag statistics">Statistics</h2>
      <canvas id="mood-chart" aria-label="Mood trend chart"></canvas>
      <canvas id="tag-chart" aria-label="Tag frequency chart"></canvas>
    </section>

    <!-- Friends and group diaries -->
    <section id="friends" class="friends">
      <h2 aria-label="Friends and group diaries">Friends & Groups</h2>
      <input id="friend-email" type="email" placeholder="Add friend by email" aria-label="Add friend">
      <button id="add-friend" aria-label="Add friend">Add Friend</button>
      <div id="friend-list" class="friend-list"></div>
      <div id="group-diaries" class="group-diaries">
        <button id="create-group" aria-label="Create group diary">Create Group Diary</button>
        <div id="group-list" class="group-list"></div>
      </div>
    </section>

    <!-- AI chatbot section -->
    <section id="chatbot" class="chatbot">
      <h2 aria-label="Chat with AI companion">AI Companion</h2>
      <div id="chat-messages" class="chat-messages"></div>
      <input id="chat-input" type="text" placeholder="Talk about your entry..." aria-label="Chat input">
      <button id="send-chat" aria-label="Send chat message">Send</button>
    </section>

    <!-- Footer with privacy and app store links -->
    <footer>
      <a href="privacy.html" aria-label="Privacy policy">Privacy Policy</a>
      <a href="https://play.google.com/store" aria-label="Google Play Store">Get on Google Play</a>
      <a href="https://www.apple.com/app-store" aria-label="Apple App Store">Get on App Store</a>
    </footer>
  </div>

  <script src="script.js" type="module"></script>
</body>
</html>
